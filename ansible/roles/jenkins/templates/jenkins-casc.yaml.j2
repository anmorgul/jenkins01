---
credentials:
  system:
    domainCredentials:
    - credentials:
      - usernamePassword:
          id: "github_token"
          username: "{{ GITHUB_USERNAME }}"
          password: "{{ GITHUB_TOKEN }}"
          description: "Token for github"
          # scope: SYSTEM 
          scope: GLOBAL
      - string:
          description: "sonarProjectKey"
          id: "sonarProjectKey"
          scope: GLOBAL
          secret: "{{ project_name }}"
      - basicSSHUserPrivateKey:
          id: jenkins_node_ssh_key
          username: jenkinsnode
          # passphrase: ${SSH_KEY_PASSWORD}
          description: "SSH private key file."
          privateKeySource:
            directEntry:
              privateKey: |
                {{ lookup('file', '../.keys/jenkinsmain/id_rsa_jenkinsmain')  | indent(16) }}
      - string:
          description: "sonartoken"
          id: "sonartoken"
          scope: GLOBAL
          secret: "{{ SONARQUBE_TOKEN }}"
      #- usernamePassword:
      #    description: "nexus_admin_and_pass"
      #    id: "nexus_admin_id"
      #    password: "{AQAAABAAAAAw1QHCO4rvzbL9q9xTfBaa65KHNs0zJVqfDAIlb5CkEhSDiYFAgG6aNj40XWdsiUmL0jfp6l00QkQE5wWCNkX1FQ==}"
      #    scope: GLOBAL
      #    username: "admin"
jenkins:
  # agentProtocols,
  authorizationStrategy:
    # loggedInUsersCanDoAnything
    globalMatrix:
      permissions:
        - "USER:Job/Build:dev"
        - "USER:Job/Cancel:dev"
        - "USER:Job/Read:dev"
        - "USER:Job/Workspace:dev"
        - "USER:Overall/Administer:admin"
        - "USER:Overall/Read:authenticated"
          #        - "GROUP:Run/Replay:authenticated"
          #        - "Run/Update:authenticated"
  # clouds
  # crumbIssuer, 
  # disableRememberMe
  # disabledAdministrativeMonitors, 
  # globalNodeProperties
  # labelAtoms
  # labelString, 
  markupFormatter: "plainText"
  mode: NORMAL
  myViewsTabBar: "standard"
  # noUsageStatistics
  # nodeName
  # nodeProperties
  nodes:
    - permanent:
        labelString: nodejs
        launcher:
          ssh:
            host: "{{JENKINS_NODE1_IP}}"
            port: 22
            credentialsId: "jenkins_node_ssh_key"
            maxNumRetries: 10
            retryWaitTime: 15
            sshHostKeyVerificationStrategy: "NonVerifyingKeyVerificationStrategy"
            tcpNoDelay: true
        # mode
        name: "Name-jenkinsnode1-agent"
        nodeDescription: "jenkinsnode1 agent"
        nodeName: "nodeName-jenkinsnode1-agent"
        # nodeProperties
        numExecutors: 2
        remoteFS: "/home/jenkinsnode"
        # retentionStrategy
  numExecutors: 2 
  primaryView:
    all:
      name: "all"
  projectNamingStrategy: "standard"
  # proxy
  quietPeriod: 5
  # remotingSecurity
  # scmCheckoutRetryCount,
  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: "admin"
          password: "{{ ADMIN_PASS }}"
#          properties:
#            - timezone:
#              timeZoneName: "Europe/Kiev"
        - id: "dev"
          password: "{{ DEV_PASS }}"
  slaveAgentPort: 50000
  # systemMessage
  updateCenter:
    sites:
    - id: "default"
      url: "https://updates.jenkins.io/update-center.json"
  views:
  - all:
      name: "all"
  viewsTabBar: "standard"
unclassified:
  gitHubPluginConfig:
    hookUrl: "{{JENKINS_MAIN_URL}}/{{GITHUB_HOOK_NAME}}/"
  sonarGlobalConfiguration:
    buildWrapperEnabled: false
    installations:
    - credentialsId: "sonartoken"
      name: "SonarQube9000"
      serverUrl: "{{ SONARQUBE_URL }}"
      triggers:
        skipScmCause: false
        skipUpstreamCause: false
#  timestamper:
#    allPipelines: false
#    elapsedTimeFormat: "'<b>'HH:mm:ss.S'</b> '"
#    systemTimeFormat: "'<b>'HH:mm:ss'</b> '"
  telegramBotGlobalConfiguration:
    approvalType: ALL
    botName: "{{ telegram_bot_name }}"
    botToken: "{{ telegram_bot_token }}"
    shouldLogToConsole: false
#  globalNexusConfiguration:
#    instanceId: "c74a2b65dc144e838587f89b371a9845"
#    nxrmConfigs:
#    - nxrm3Configuration:
#        credentialsId: "nexus_admin_id"
#        displayName: "NexusRepositoryDisplayName3"
#        id: "NexusRepositoryID3"
#        internalId: "e5e271b0-19e0-4e2b-b0bc-073134ff9d45"
#        serverUrl: "http://192.168.1.77:8081"
security:
  scriptApproval:
    approvedSignatures:
    - "new java.io.File java.lang.String"
tool:
  git:
    installations:
    - home: "git"
      name: "Default"
  mavenGlobalConfig:
    globalSettingsProvider: "standard"
    settingsProvider: "standard"
  sonarRunnerInstallation:
    installations:
    - name: "SonarQubeScannerMaven"
      properties:
      - installSource:
          installers:
          - sonarRunnerInstaller:
              id: "4.6.2.2472"
jobs:
  - file: /usr/local/seedjob_multipipeline.groovy
...